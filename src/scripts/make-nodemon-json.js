'use strict';

var path = require('path');
var writeConfigFile = require('../tools/write-config-file');
var config = require('../../config/variables');


var nodemonConfig = {
    '////': '//',
    '///': 'WARNING: This file is generated by ' + path.basename(__filename) + ' - do not edit manually!',
    '//': '////',
    verbose: true,
    ext: 'js jsx',
    env: {
        NODE_ENV: process.env.NODE_ENV
    },
    delay: 100,
    ignore: [
        '.idea',
        '.sass-cache',
        path.relative(config.paths.root, config.paths.public) +  '/*'
    ]
};


module.exports = function () {
    writeConfigFile('nodemon.json', JSON.stringify(nodemonConfig, null, 2));
};